package com.yety.project.request.comun;

import java.io.BufferedReader;
import java.io.DataOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.io.Reader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.nio.charset.StandardCharsets;

import okhttp3.MediaType;
import okhttp3.OkHttpClient;
import okhttp3.Request;
import okhttp3.RequestBody;
import okhttp3.Response;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.yety.project.request.comun.constants.IContsRequestDIAN;

public class RequestDIAN {
	/*
	 * formato de postman public void obtenerHtmlDIANrut() { OkHttpClient client =
	 * new OkHttpClient().newBuilder() .build(); MediaType mediaType =
	 * MediaType.parse("application/x-www-form-urlencoded"); RequestBody body =
	 * RequestBody.create(mediaType,
	 * "vistaConsultaEstadoRUT:formConsultaEstadoRUT:numNit=900521211&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.x=&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.y=&com.sun.faces.VIEW=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&vistaConsultaEstadoRUT:formConsultaEstadoRUT=vistaConsultaEstadoRUT:formConsultaEstadoRUT"
	 * ); Request request = new Request.Builder()
	 * .url("https://muisca.dian.gov.co/WebRutMuisca/DefConsultaEstadoRUT.faces")
	 * .method("POST", body) .addHeader("Content-Type",
	 * "application/x-www-form-urlencoded") .build(); Response response =
	 * client.newCall(request).execute(); }
	 */

	public static String obtenerHtmlDIANrut(String numNit, String urldian) throws Exception {

		String separadorAnd = "&";
		String numNitCompletoParametro = "vistaConsultaEstadoRUT:formConsultaEstadoRUT:numNit" + "=" + numNit;
		String btnBuscarXParametro = "vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.x" + "="
				+ IContsRequestDIAN.PARAMETER_BTN_BUSCAR_X;
		String btnBuscarYParametro = "vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.y" + "="
				+ IContsRequestDIAN.PARAMETER_BTN_BUSCAR_Y;
		String facesViewParametro = "com.sun.faces.VIEW" + "=" + IContsRequestDIAN.COM_SUN_FACES_VIEW;
		String ConsultaEstadoRUTParametro = "vistaConsultaEstadoRUT:formConsultaEstadoRUT" + "="
				+ IContsRequestDIAN.FORM_COMSULTA_ESTADO_RUT;

		String parametrosCompletos = numNitCompletoParametro + separadorAnd + btnBuscarXParametro + separadorAnd
				+ btnBuscarYParametro + separadorAnd + facesViewParametro + separadorAnd + facesViewParametro
				+ separadorAnd + ConsultaEstadoRUTParametro;

		byte[] postData = parametrosCompletos.getBytes(StandardCharsets.UTF_8);
		int postDataLength = postData.length;
		URL url = new URL(urldian);
		HttpURLConnection conexion = (HttpURLConnection) url.openConnection();

		conexion.setInstanceFollowRedirects(false);
		conexion.setRequestMethod("POST");
		conexion.setRequestProperty("Content-Type", IContsRequestDIAN.CONTENT_TYPE_FORM_URLENCODE);
		conexion.setRequestProperty("charset", "utf-8");
		conexion.setRequestProperty("Content-Length", Integer.toString(postDataLength));
		conexion.setDoOutput(true);
		conexion.setUseCaches(false);

		Reader in = new BufferedReader(new InputStreamReader(conexion.getInputStream(), "UTF-8"));
		/*
		 * for (int c; (c = in.read()) >= 0;) System.out.print((char)c);
		 */

		StringBuilder sb = new StringBuilder();
		for (int c; (c = in.read()) >= 0;)
			sb.append((char) c);
		String response = sb.toString();

		return response;
	}

	public void obtenerHtmlDIANgpt()  throws Exception {
			URL url = new URL("https://muisca.dian.gov.co/WebRutMuisca/DefConsultaEstadoRUT.faces");
			HttpURLConnection connection = (HttpURLConnection) url.openConnection();
			connection.setRequestMethod("POST");
			connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
			connection.setRequestProperty("Cookie", "DIAN-MUISCA=N_1_393939_186d429e2fa_N_61736446313233_; JSESSIONID=7D573233019610A3BB438D755AB5406D; TS01a45c3c=01615e36457ce58050a49a3c94f5fabb51eaea40eb25b7a7f5d752dffcf17af7bcca75413e4d6b347b74f46b1d7d61d1848ae826db; TS01a45c3c028=0184d7998bb1e16c0d656067ff75e48473135bcb0eda360a755ec8026a12043f9083a49e660495695b566664616aeeaa91b77d5819; TS01a45c3c031=0184d7998bf0b369a3e8875af6ac41624e9beeadbcda360a755ec8026a12043f9083a49e669ff7de3052aa66b7e64152a30fa126a9");
			connection.setDoOutput(true);

			String postData = "vistaConsultaEstadoRUT:formConsultaEstadoRUT:numNit=1049373081&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.x=0&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.y=0&com.sun.faces.VIEW=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&vistaConsultaEstadoRUT:formConsultaEstadoRUT=vistaConsultaEstadoRUT:formConsultaEstadoRUT";
			DataOutputStream out = new DataOutputStream(connection.getOutputStream());
			out.writeBytes(postData);
			out.flush();
			out.close();

			BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
			String inputLine;
			StringBuffer response = new StringBuffer();

			while ((inputLine = in.readLine()) != null) {
			    response.append(inputLine);
			}
			in.close();

			System.out.println(response.toString());


	}

	public void obtenerHtmlDIANsonic() throws Exception {
		URL url = new URL("https://muisca.dian.gov.co/WebRutMuisca/DefConsultaEstadoRUT.faces");
		HttpURLConnection con = (HttpURLConnection) url.openConnection();
		con.setRequestMethod("POST");
		con.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
		con.setRequestProperty("Cookie", "DIAN-MUISCA=N_1_393939_186d429e2fa_N_61736446313233_; JSESSIONID=7D573233019610A3BB438D755AB5406D; TS01a45c3c=01615e36457ce58050a49a3c94f5fabb51eaea40eb25b7a7f5d752dffcf17af7bcca75413e4d6b347b74f46b1d7d61d1848ae826db; TS01a45c3c028=0184d7998bb1e16c0d656067ff75e48473135bcb0eda360a755ec8026a12043f9083a49e660495695b566664616aeeaa91b77d5819; TS01a45c3c031=0184d7998bf0b369a3e8875af6ac41624e9beeadbcda360a755ec8026a12043f9083a49e669ff7de3052aa66b7e64152a30fa126a9");
		con.setDoOutput(true);

		String query = "vistaConsultaEstadoRUT:formConsultaEstadoRUT:numNit=1049373081&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.x=0&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.y=0&com.sun.faces.VIEW=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&vistaConsultaEstadoRUT:formConsultaEstadoRUT=vistaConsultaEstadoRUT:formConsultaEstadoRUT";
		byte[] postData = query.getBytes(StandardCharsets.UTF_8);
		int postDataLength = postData.length;
		con.setRequestProperty("Content-Length", Integer.toString(postDataLength));

		try (OutputStream outputStream = con.getOutputStream()) {
		    outputStream.write(postData);
		}

		int status = con.getResponseCode();
		if (status >= 200 && status < 300) {
		    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));
		    String inputLine;
		    StringBuffer content = new StringBuffer();
		    while ((inputLine = in.readLine()) != null) {
		        content.append(inputLine);
		    }
		    in.close();
		    System.out.println(content.toString());
		} else {
		    System.out.println("Unexpected status " + status);
		}

		con.disconnect();
	}

	public void requesDIANokHttp() throws IOException {
		OkHttpClient client = new OkHttpClient().newBuilder().build();
		MediaType mediaType = MediaType.parse("application/x-www-form-urlencoded");
		RequestBody body = RequestBody.create(mediaType,
				"vistaConsultaEstadoRUT:formConsultaEstadoRUT:numNit=1049373081&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.x=0&vistaConsultaEstadoRUT:formConsultaEstadoRUT:btnBuscar.y=0&com.sun.faces.VIEW=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&vistaConsultaEstadoRUT:formConsultaEstadoRUT=vistaConsultaEstadoRUT:formConsultaEstadoRUT");
		Request request = new Request.Builder()
				.url("https://muisca.dian.gov.co/WebRutMuisca/DefConsultaEstadoRUT.faces").method("POST", body)
				.addHeader("Content-Type", "application/x-www-form-urlencoded")
				.addHeader("Cookie",
						"DIAN-MUISCA=N_1_393939_186d3ebb8bf_N_61736446313233_; JSESSIONID=3CFD7BBA2EB7B958CBF0F2C396A2BA6F.nodo1Rutmuisca; TS01a45c3c=01615e364536b05b9222a39e58001a89259cc9fbb8b2488d181ca3a853d0ea886b066074a6b63f819f118bed15d856314e314b947c; TS01a45c3c028=0184d7998b0f32a9aa9df4305b685d6a0e79e061c866d280767bbcd8dd4bf97982d20de7bee5ca8a76f0044e13cd05f5d972447862; TS01a45c3c031=0184d7998b0b7ca08312b35fd61d81271e6c6597b966d280767bbcd8dd4bf97982d20de7be9e2bd8ccd05462669682198f32eaf24d")
				.build();

		try (Response response = client.newCall(request).execute()) {
			if (!response.isSuccessful()) {
				throw new IOException("Unexpected code " + response);
			}

			String responseBody = response.body().string();
			System.out.println(responseBody);
		}
	}

}
